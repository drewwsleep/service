<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ö–æ—Ä–∑–∏–Ω–∞ ‚Äî Garage62</title>
  <link rel="stylesheet" href="style.min.css">
  <link rel="icon" type="image/x-icon" href="images/62.png">
</head>
<body>

<!-- –•–ï–î–ï–† –° –ù–ê–í–ò–ì–ê–¶–ò–ï–ô -->
<header>
  <div class="header-top">
    <a href="index.html" class="logo"><img src="images/icon.png" alt="Garage 62"> |Garage62</a>
    
    <div class="auth-buttons" id="authButtons">
      <a href="cart.html" class="btn-cart" title="–ö–æ—Ä–∑–∏–Ω–∞">
        <span class="cart-count">üõí<span id="cartCount">0</span> </span>
      </a>
      <a href="login.html" class="btn-login">–í–æ–π—Ç–∏</a>
      <a href="reg.html" class="btn-register">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a>
    </div>
    
    <div class="user-info" id="userInfo">
      <div class="user-top">
        <span id="userName"></span>
        <span id="userRole"></span>
        <button id="logoutBtn" class="btn-logout">–í—ã–π—Ç–∏</button>
      </div>
      <div class="user-car" id="userCarInfo"></div>
    </div>

  </div>
  <nav>
    <ul>
      <li><a href="index.html#services">–£—Å–ª—É–≥–∏</a></li>
      <li><a href="index.html#parts">–ó–∞–ø—á–∞—Å—Ç–∏</a></li>
      <li><a href="index.html#booking">–ó–∞–ø–∏—Å—å</a></li>
      <li id="adminNav"><a href="index.html#admin">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ</a></li>
    </ul>
  </nav>
</header>

<main>
  <section id="cart">
    <h2>–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞</h2>
    <p class="section-desc">–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ç–æ–≤–∞—Ä—ã –∏ —É—Å–ª—É–≥–∏ –ø–µ—Ä–µ–¥ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ–º</p>

    <div class="cart-container" id="cartApp">
      <!-- –ü—É—Å—Ç–∞—è –∫–æ—Ä–∑–∏–Ω–∞ -->
      <div v-if="cartItems.length === 0" class="cart-list">
        <p class="empty-message">–í –∫–æ—Ä–∑–∏–Ω–µ –ø–æ–∫–∞ –Ω–∏—á–µ–≥–æ –Ω–µ—Ç</p>
      </div>

      <!-- –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ -->
      <div v-else class="cart-list">
        <div class="cart-item" v-for="(item, index) in cartItems" :key="`${item.type}-${item.name}`">
          <img v-if="item.image" :src="item.image" :alt="item.name" class="cart-item-image">
          <div v-else-if="item.type === 'service'" class="cart-item-icon">‚öôÔ∏è</div>

          <div class="item-info">
            <strong>{{ item.name }}</strong>
            <div class="item-meta">
              {{ item.type === 'service' ? '–£—Å–ª—É–≥–∞' : '–ó–∞–ø—á–∞—Å—Ç—å' }} ‚Äî {{ formatPrice(item.price) }}
            </div>
          </div>

          <div class="item-controls">
            <!-- –î–ª—è –∑–∞–ø—á–∞—Å—Ç–µ–π: –ø–æ–∫–∞–∑—ã–≤–∞–µ–º +, -, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ -->
            <template v-if="item.type === 'part'">
              <button @click="decreaseItem(index)" class="btn-admin btn-decrease">‚àí</button>
              <span class="item-qty">{{ item.qty }}</span>
              <button @click="increaseItem(index)" class="btn-admin btn-increase">+</button>
            </template>

            <!-- –î–ª—è –≤—Å–µ—Ö: –∫–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è -->
            <button @click="removeItem(index)" class="btn-remove btn-delete-record">–£–¥–∞–ª–∏—Ç—å</button>
          </div>
        </div>
      </div>

      <!-- –ò—Ç–æ–≥–æ–≤–∞—è —Å—É–º–º–∞ -->
      <aside class="cart-summary">
        <h3>–ò—Ç–æ–≥–æ</h3>
        <p class="cart-total">{{ formatPrice(totalPrice) }}</p>
        <button id="btnClearCart" @click="clearCart" class="btn-admin">–û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É</button>
        <a href="order.html" id="btnCheckout" class="btn-checkout">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</a>
      </aside>
    </div>
  </section>
</main>

<!-- –§–£–¢–ï–† -->
<footer>
  <div class="footer-container">
    <div class="footer-section company">
      <h3>–û –∫–æ–º–ø–∞–Ω–∏–∏</h3>
      <ul>
        <li><a href="index.html">–ù–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞</a></li>
        <li><a href="index.html">–ü—Ä–æ–µ–∫—Ç—ã</a></li>
        <li><a href="index.html">–í–æ–ø—Ä–æ—Å-–æ—Ç–≤–µ—Ç</a></li>
        <li><a href="index.html">–û—Ç–∑—ã–≤—ã</li>
      </ul>
    </div>

    <div class="footer-section contacts">
      <h3>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h3>
      <address>
        <p><span>üìç –≥. –†—è–∑–∞–Ω—å, —É–ª. –ü—É—à–∫–∏–Ω–∞, —Å—Ç—Ä. 1</span></p>
        <p><span>üìû +7 (4912) 62-62-62</span></p>
        <p>‚úâÔ∏è <a href="mailto:garage62@mail.ru">garage62@mail.ru</a></p>
        <p>üì± <a href="https://t.me/garage62" target="_blank">Telegram</a></p>
        <p>üí¨ <a href="https://vk.com/garage62" target="_blank">VK</a></p>
      </address>
    </div>

    <div class="footer-section map">
      <h3>–°—Ö–µ–º–∞ –ø—Ä–æ–µ–∑–¥–∞</h3>
      <img src="images/map.jpg" alt="–ö–∞—Ä—Ç–∞ –ø—Ä–æ–µ–∑–¥–∞ –∫ Garage62" class="map-img">
    </div>
  </div>

  <div class="footer-bottom">
    <p>&copy; 2025 Garage62. –ü—Ä–µ–º–∏–∞–ª—å–Ω—ã–π –∞–≤—Ç–æ—Å–µ—Ä–≤–∏—Å –≤ –†—è–∑–∞–Ω–∏.</p>
  </div>
</footer>

<script src="https://unpkg.com/vue@3.5.26/dist/vue.global.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="main.min.js"></script>
</body>
</html>
